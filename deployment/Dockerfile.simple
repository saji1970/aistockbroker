FROM python:3.9-slim

WORKDIR /app

# Copy requirements and install Python dependencies
COPY simple_requirements.txt requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

# Copy the simple API server and MarketMate assistant
COPY simple_api.py .
COPY marketmate_assistant.py .

# Expose port
EXPOSE 8080

# Set environment variables
ENV FLASK_APP=simple_api.py
ENV FLASK_ENV=production

# Run the API server
CMD ["python", "simple_api.py"]
